<section class="meta-bar">
  {{#containers/anomaly-container as |anomalyList actions|}}
    {{#if anomalyList.loading}}
      Loading...
    {{/if}}

<<<<<<< HEAD
    {{#if anomalyList.failed}}
      Oops, something went wrong...
    {{/if}}

    {{#if anomalyList.loaded}}
      {{#each anomalyList.anomalies as |anomaly|}}
        <div class="meta-bar__card">
          {{anomaly-id anomaly=anomaly}}
        </div>
      {{else}}
        No anomalies found.
      {{/each}}
    {{/if}}
  {{/containers/anomaly-container}}
</section>

<main class="content">
  <h1>Metric Correlation</h1>
  <p>This is a placeholder example page for the new ember app utilizing ember-redux and connecting to the back end at localhost:1426</p>

{{#containers/anomaly-container as |anomalyList metricList actions|}}
  {{#if metricList.loading}}
    <div style="position:relative;">
      {{ember-spinner}}
    </div>
  {{/if}}

  {{#if anomalyList.failed}}
    Oops, something went wrong...
  {{/if}}
  
  {{#if (and anomalyList.loaded metricList.relatedMetrics.length)}}
    {{#if splitView}}
      {{#each metricList.relatedMetrics as |metric|}}
        {{anomaly-graph relatedMetrics=metric}}
      {{/each}}
    {{else}}
      {{anomaly-graph anomaly=anomalyList.anomaly primaryMetric=metricList.primaryMetric relatedMetrics=metricList.relatedMetrics onSelection=actions.onSelection}}
    {{/if}}
    {{!--{{else}}
      No anomalies found.
    {{/each}}--}}
  {{/if}}
  <h3>Primary Metric</h3>
  {{#if metricList.loading}}
    <div style="position:relative;">
      {{ember-spinner}}
    </div>
  {{/if}}
  {{percentage-table metrics=metricList.primaryMetric}}
  <h3>Correlated Metric</h3>
    {{#if metricList.loading}}
      <div style="position:relative;">Ã¥
        {{ember-spinner}}
      </div>
    {{/if}}
    {{percentage-table metrics=metricList.primaryMetric}}
    <h3>Correlated Metric</h3>
      {{#if metricList.loading}}
      <div style="position:relative;">
        {{ember-spinner}}
      </div>
    {{else if metricList.relatedMetrics.length}}
      {{percentage-table metrics=metricList.relatedMetrics}}
    {{/if}}
{{/containers/anomaly-container}}
</main>

