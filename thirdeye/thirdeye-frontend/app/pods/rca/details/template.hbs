<div class="paper-container container">
  <div class="paper-container__body">
    <h3 class="te-sub-title te-sub-title--flush">Summary</h3>
    <section class="rca-summary">

      <div class="form-group">
        <label for="select-granularity">Granularity: </label>
        {{#power-select
          selected=granularity
          options=granularities
          triggerId="select-granularity"
          onchange=(action "onGranularityChange") 
          as |granularity|
        }}
          {{granularity}}
        {{/power-select}}
      </div>
      <div class="form-group">
        <label for="select-filters">Filters: </label>
        {{filter-select
          options=metricFilters
          selected=filters
          triggerId="select-filter"
        }}
      </div>
      <main>
        {{#containers/metric-container as |metricList actions|}}
          {{#if metricList.loading}}
            <section class="paper-container">
              <div class="spinner-wrapper">
                {{ember-spinner}}
              </div>
            </section>
          {{/if}}

          {{!--{{#if metricList.failed}}
            Oops, something went wrong...
          {{/if}}--}}

          {{#if metricList.loaded}}

            {{anomaly-graph 
              primaryMetric=metricList.primaryMetric 
              showGraphLegend=true
              onSubchartChange=(action actions.onDateChange)
            }}
          {{/if}}

        {{/containers/metric-container}}
      </main>
    </section>
  </div>
</div>

<div class="paper-container container">
  {{outlet}}
</div>